<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Loop Web Client</title>
    <link rel="stylesheet" href="https://fonts.xz.style/serve/inter.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css">
<script
			  src="https://code.jquery.com/jquery-3.5.1.min.js"
			  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
			  crossorigin="anonymous"></script>
</head>

    <script type="text/javascript">
            const url = new URL(window.location);
            const token = url.searchParams.get("token");
    </script>
<body>
<a>
<header>
    <h1>Loop Web Client v0.2.0</h1>
</header>
<details open>
<!--    <summary>Setup</summary>-->
    <h1>Token Generated</h1><br>
       <script type="text/javascript">
      document.write(`<img href="${window.location.href}"><img src = "https://api.qrserver.com/v1/create-qr-code/?size=100x100&data=${window.location.href}"/></a>`)
       </script>

    <br>
    <h2>curl Snippet</h2>

    <!--    CURL COMMAND    -->
    <script type="text/javascript" >
            // var url = new URL(window.location);
            // var token = url.searchParams.get("token");
        document.write(`<pre>curl --location --request POST '${window.location.protocol}//${window.location.host}/update_obs/?token=${token}&obs=0.22'</pre>`)
    </script>

    <h2>Python Snippet</h2>

        <!--    PY COMMAND    -->
    <script type="text/javascript">
        document.write(`<pre>import requests;print(requests.request("POST","${window.location.protocol}//${window.location.host}/update_obs/?token=${token}&obs=%s"%val, headers={}, data = {}).text.encode('utf8'))</pre>`)
    </script>

        <p>
    <h6>Manually add cpu observations</h6>
     <a><button class="post_cpu_onclick">0.0</button></a>
     <a><button class="post_cpu_onclick">0.2</button></a>
     <a><button class="post_cpu_onclick">0.4</button></a>
     <a><button class="post_cpu_onclick">0.6</button></a>
     <a><button class="post_cpu_onclick">0.8</button></a>
     <a><button class="post_cpu_onclick">1.0</button></a>
     <a><button class="post_cpu_onclick">4.0</button></a>

    </p>


<p>
<h6>Manually add progress observations</h6>
    <a><button class="post_obs_onclick">0.0</button></a>
     <a><button class="post_obs_onclick">0.2</button></a>
     <a><button class="post_obs_onclick">0.4</button></a>
     <a><button class="post_obs_onclick">0.6</button></a>
     <a><button class="post_obs_onclick">0.8</button></a>
     <a><button class="post_obs_onclick">1.0</button></a>
</p>

<p>

    <a href="https://curl.trillworks.com/">
        Generate snippets for Ansible URI, MATLAB, Node.js, R, PHP, Strest, Go, Dart, JSON, Elixir, or Rust
    </a>
</p>


</details>

<h6 id="cpu_title">CPU</h6>
<h1 id="cpu_val" style="color:#440dc9">———</h1>
<kbd id="cpu_time">Loading Page</kbd>

<h6>Progress</h6><h1 id="obs_val" style="color:#2ca10c">———</h1>
<kbd id="obs_time">Loading Page</kbd>

<h2>Ping me if:</h2>


<form id="set_predicates">
CPU
    <input type="checkbox" id="predicate_form_cpu_enabled" name="predicate_form_cpu_enabled" checked>
    <select name="predicate_form_cpu_comparator">
        <option value=">">goes above</option>
        <option value="<">goes below</option>
    </select>
        <input type="number"  id="predicate_form_cpu_val" name="predicate_form_cpu_val" min="0" max="1000" value="10">% OR
    <input type="checkbox" id="predicate_form_obs_enabled" name="predicate_form_obs_enabled" checked>
    Progress
        <select name="predicate_form_obs_comparator" >
        <option value=">">goes above</option>
        <option value="<">goes below</option>
    </select>

        <input type="number" id="predicate_form_obs_val" name="predicate_form_obs_val" min="0.0" max="1.0" value="0.9" step="0.1">
</form>
<a></a><button id="predicate_set_button" onclick="gen_and_send_predicate('set_predicates', 'predicate_set_button','predicate_raw')">Set</button></form>
<pre id="predicate_raw"></pre>


<p>
    <h3>Set Contact Info</h3>
        <input type="tel" placeholder="Cell # to text" id="cellnumber_input">
    <a><button id="cell_set_button" onclick="post_contactinfo(document.getElementById('cellnumber_input').value,'cell_set_button')">Set</button></a>
</p>

</body>
    <script type=text/javascript src="static/webclient.js" type="module"></script>
    <script type=text/javascript src="static/predicate_helpers.js" type="module"></script>
<!--<script type=text/javascript src="static/jquery-3.5.1.min.js" type="module"></script>-->

</html>